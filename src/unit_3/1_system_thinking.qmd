---
title:  "Systems Thinking" 
subtitle: Cities as complex socio-technical systems
format: 
    revealjs:
        slide-number: true
        theme: oslomet-pres.scss
        center: true
        transition: fade
        footer: "SMUA 4500 Smart Cities - Greg Maya ©"
        incremental: true
title-slide-attributes: 
  data-background-image: img/air-traffic-control-1826798.jpg
  data-background-opacity: "0.5"
scroll-view: true
---

## Session Roadmap {background-image="img/air-traffic-control-1826798.jpg" background-opacity="0.5"} 
- **Part I: The Landscape of Urban Complexity**
    - The "Brain" of the Smart City & 4 Heuristics
- **Part II: The Logics of Systems**
    - Deep Dive into Feedback Loops
    - **Workshop I:** Mapping Your Wicked Problem
- **Part III: Decision Support Tools**
    - **Workshop II:** Stakeholders and Data

::: {.notes}
- Start by managing expectations: Today we move from theory to logic to practice.
- Part I is the 'Why' (Complexity) and the 'How' (The 4 Heuristics). It sets the conceptual stage.
- Part II is the 'Deep Dive'. We get hands-on with System Dynamics logic to help them deconstruct the specific course assignments they are working on.
- Part III links the "Brain" back to reality: How does this logic serve stakeholders and talk to data?
:::

# The Landscape of Urban Complexity
_Part I_

## The City = Complex Systems
* A city is decomposable into semi-predictable parts.
* It is a dynamic process of **organized complexity**.
* **The Smart City Paradox:** 
    * We have new **technical capabilities** (Big Data, sensors, AI).
    * But they rely on **modelling techniques** devised decades ago to solve social problems.

::: {.notes}
- The city is the ultimate complex system. 
- "Smart" doesn't mean "New." Many of the algorithms we use today were born in the 1960s and 70s to address social housing, transport equity, and urban decay. The technology has caught up to the theory, but the focus remains social.
:::

## Complexity alive
:::{.r-stretch} 
{{< video https://www.youtube.com/watch?v=CrWM2lc1oRA width="900" height="500" >}}
:::

::: {.notes}
 To a computer or a traditional top-down planner, this looks like total disorder. But it isn't. It is a highly efficient, self-organizing system where thousands of individual decisions create a functional flow. This is the 'organized complexity' Jane Jacobs spoke about—and it is exactly what we struggle to represent in a static model."
:::

## What the Smart City is NOT {background-color="#FF8100"}
* It is **not** a crystal ball for perfect prediction.
* It is **not** a digital twin that *is* the reality.
* **The Map is not the Territory:**
    * Models are simplified representations.
    * In a complex system, "Total Control" is an illusion.
    * We model to *understand* potentiality, not to *dictate* outcomes.

::: {.notes}
- models are fallible. 
- Because of urban complexity (non-linearity and emergence), we can't predict exactly what a city will do.
- "The Answer," they are misrepresenting what a model is. It’s a tool for exploration, not a decree.
:::

## The Science of Cities
:::::: {.columns}
::: {.column width="60%"}
> "...cities must now be looked at as constellations of interactions, communications, relations, flows, and networks rather ... than locations [...] **location is, in effect, a synthesis of interactions.**"
>
> — *Michael Batty, 2013*
:::
::: {.column width="40%"}
![](img/batty_book1.png){height="400px" fig-alt="Michael Batty, The New Science of Cities"}
:::
::::::

::: {.notes}
Use this to transition into the modeling heuristics. If location is just a "synthesis of interactions," then to model a city, we shouldn't just map where things *are* (static), but how things *move and relate* (dynamic). This justifies why we look at things like Networks and Agent-Based models.
:::


## Organized Complexity {background-image="img/San-Marco.png" background-opacity="0.5"}
_Jane Jacobs_

:::: {.columns}
::: {.column}
Cities are not:

- Problems of ~~Simplicity~~
- Problems of ~~Disorganized Complexity~~ (millions of random variables).
:::
::: {.column}
They are problems of [Organized Complexity]():

- A huge number of factors which are interrelated into an **organic whole**.
:::
:::: 


::: {.notes}
Jane Jacobs (1961) borrowed this term from Warren Weaver. 
Explain the difference: 
- Simplicity: A falling stone (gravity).
- Disorganized: A gas (billions of atoms behaving randomly).
- Organized: A city or a living cell. Everything depends on everything else. If you change the park (social), you change the crime rate (social), which changes the property value (economic), which changes the transport needs (technical).
:::

## The Interconnection of Parts {background-image="img/San-Marco.png" background-opacity="0.5"}
> "The city is not a work of art... the city is a process." -- J.Jacobs

* It is a **Bottom-Up** system.
* Small, local interactions $\rightarrow$ Large, global patterns.

::: {.notes}
Highlight that both Jane Jacobs and Christopher Alexander saw the "interconnection of parts" as the central issue. 
For the students' projects: Tell them that when they model a "Smart City" intervention, they aren't just adding a "part" to a machine; they are intervening in a "living process" that will react in unpredictable ways.
:::

## Complexity Science {background-image="img/San-Marco.png" background-opacity="0.5"}
**The Reductionist Shortcut:** 

- A mental habit of breaking the city into isolated "parts" to make it easier to manage.

**The Complexity Reality:** 

- Science not of the "atoms" (buildings, roads, people), but of the **connections** between them.

:::{.fragment .highlight-red}
**Cross-Scale Interactions**

- Single street-level decisions ripples up to the metropolitan scale.
:::

::: {.notes}
 "Reductionism is a form of mental lazy gymnastics. Our brains are hardwired to simplify: we see a 'housing problem' or a 'transport problem' as separate buckets because it’s cognitively cheaper to process."
- But cities don't work in buckets. Complexity science is about the 'glue'—the flows and communications that Michael Batty mentioned. 
- Emphasize that we aren't studying the 'atoms' (the physical objects) but the 'chemistry' (how they react when they touch). This is why the 'Brain' of the city needs to be a systems-thinking brain, not just a spreadsheet of isolated parts.
:::


## Systems {background-color="#FF8100"}
::: {.columns}
::: {.column}
### Complex
- Adaptive relationships.
- Emergent outcomes.
- More than the sum of its parts.
:::
::: {.column}
### Complicated
- Fixed relationships.
- Predictable outcomes.
- The sum of its parts.
:::
::: 

![forest](img/forest.png){.fragment .absolute top=200 left=10 width="300" }
![engine](img/engine.png){.fragment .absolute top=200 right=150 width="300" }
![city](img/madrid.png){.fragment .absolute top=200 left=10 width="300" }
![chip](img/chip.png){.fragment .absolute top=200 right=150 width="300" }

::: {.notes}
A Boeing 747 is complicated; it's difficult to understand, but it's reliable and linear. A city is complex; it is alive. In a complicated system, if you remove a part, you just have a broken machine. In a complex system, if you remove a part, the system adapts or collapses entirely.
:::

## _The City is not a Tree_ {background-image="img/tree_alexander.png"}
:::{.fragment}
> “It is for this reason - because the mind’s first function is to reduce the ambiguity and overlap in a confusing situation ... it is endowed with a basic intolerance for ambiguity - that structures like the city, which do require overlapping sets within them, are nevertheless persistently conceived as trees.” -- Christooher Alexander
:::

## Systems Thinking 101 {background-color="#40E4FF"}
:::: {.columns}
::: {.column .fragment} 
#### Systems Thinking
Seeing the **Web** of interactions
:::
::: {.column .fragment}
#### Linear Thinking
A $\rightarrow$ B (Cause and Effect)
:::
::::

:::{.fragment .r-fit-text} 
**FOCUS ON THE RELATIONSHIP BETWEEN PARTS**

**NOT JUST PARTS THEMSELVES.**
:::

::: {.notes}
Contrast the two ways of thinking. Linear thinking says: "Traffic is bad, widen the road." Systems thinking asks: "If I widen the road, how does that change land use, and how does that eventually bring more cars back (induced demand)?" 
This is the fundamental shift required for the rest of the lecture.
:::

## Modeling as a Heuristic  {background-color="#40E4FF"}
A model is not "The Truth."

It is a **Heuristic**: a mental shortcut or tool for discovery.

::: {.fragment .highlight-blue}
- **_"All models are wrong, but some are useful"_** (George Box).
:::

::: {.notes}
This is a friendly way to lower the "technical" barrier. You aren't asking them to be data scientists today; you are asking them to use models as "thinking tools" to simplify a reality that is too complex to hold in their heads all at once.
:::

# The Logics of Systems
_Part II_

## Smart City's _brain_ {background-image="img/brain.jpg" background-opacity="0.4"}

::: {.columns}
::: {.column}
### _The Back-end_

The heuristics, logic, and models.
:::
::: {.column}
### _The Front-end_

Dashboards, visualizations, and stakeholder apps.
:::
:::

:::{.fragment .r-fit-text}
[Logic must precede display.]()
:::


::: {.notes}
Use the "Brain" analogy to ground the lecture. The "Front-end" is what people see (the dashboard), but the "Brain" is the modeling logic we are discussing today. 
If the logic (the model) is flawed, the visualization is just "fancy misinformation." Today is about building the intellectual back-end.
:::


## The Dimensions {background-gradient="linear-gradient(to bottom, #2b2b2b, #FFDC00)"}
_of most urban logic modelling_

<br> 

::: {.columns}
::: {.column}
#### SPATIAL

#### RELATIONAL
:::
::: {.column}
#### TEMPORAL

#### SYSTEMIC
:::
::: 


## 1. The Spatial Dimension {background-image="img/dim_space.png"}

* **The Logic of "Where":** Focuses on geometry, distance, and density.
* **Key Question:** How does the physical arrangement of assets (buildings, parks, roads) determine urban performance?
* **Core Concept:** **Social Physics.** Just like gravity, "mass" (high-density jobs or housing) exerts a pull on the surrounding area.

::: {.notes}
Spatial logic is the traditional bread and butter of planning. It’s about the map. It assumes that proximity equals interaction.
:::

## 2. The Relational Dimension {background-image="img/dim_relation.png"}

* **The Logic of "Connection":** Focuses on topology and network hierarchy.
* **Key Question:** How is the city "wired"? Is it about how far you are in meters, or how many turns you are from the main network?
* **Core Concept:** **Graph Theory.** The city as nodes and edges.

## 3. The Temporal Dimension {background-image="img/dim_temp.png"}

* **The Logic of "When":** Focuses on change, evolution, and path dependency.
* **Key Question:** How did the city get here, and how fast is it changing?
* **Core Concept:** **Dynamics.** Recognizing that an urban intervention today might take 10 years to show its true impact (_delays_).

## 4. The Systemic Dimension {background-image="img/dim_systemic.png"}

* **The Logic of "Why":** Focuses on causality and interdependencies.
* **Key Question:** What are the unintended consequences? If we improve transport, does it inadvertently raise rents and displace the people it was meant to help?
* **Core Concept:** **Feedback Loops.** Circular causality where an output of a system becomes an input for the next cycle.


## The Models {background-gradient="linear-gradient(to bottom, #2b2b2b, #FFDC00)"}
_only some..._

<br>

::: {.columns}
::: {.column}
#### Land-Use Transport
:::
::: {.column}
#### Network Models
:::
::: {.column}
#### System Dynamics
:::
::: {.column}
#### Agent Based Models
:::
::: 

## Land-Use Transport {background-image="img/gravity.jpeg"}
LUTI 
### The Anatomy

* **Primary Dimensions:** **Spatial (High)** + **Relational (Medium)**.
* **The Engine:** **Spatial Interaction Models.** Uses gravity equations to find a state of "Equilibrium" between where people live, where they work, and how they travel.
* **Input/Output:** Zonal data (population/jobs)  Predicted traffic flows and land-use shifts.

::: {.notes}
- LUTI is the "Strategic Planner's" model. 
- It assumes the city seeks a balance. If you reduce travel time to the city center, the 'brain' of this model calculates that property values will rise.
- It is great for long-term infrastructure but often misses "sudden" social shifts.
:::


## Land-Use Transport {background-image="img/gravity.jpeg"}
_eg. Predicting the impact of a new Metro line on residential density in a suburban area._

:::::: {.columns}
::: {.column}
#### Pros 
Excellent for long-term strategic planning and infrastructure "stress testing."
:::
::: {.column}
#### Cons 
Highly aggregate (treats people as masses) and mostly static (ignores the "chaos" of daily life).
:::
:::


* **What it lacks:** **Temporal and Systemic feedback.** 
It assumes a city is a puzzle that can be "solved" into a perfect balance.


::: {.notes}
- LUTI is the "Strategic Planner's" model. 
- It assumes the city seeks a balance. If you reduce travel time to the city center, the 'brain' of this model calculates that property values will rise.
- It is great for long-term infrastructure but often misses "sudden" social shifts.
:::

---

## Network Models {background-image="img/syntax_bog.png" background-opacity="0.3"}
_eg. Space Syntax_

### *The Anatomy*

* **Primary Dimensions:** **Relational (High)** + **Spatial (Low)**.
* **The Engine:** **Topological Analysis.** It measures "Integration" (how accessible a street is) and "Choice" (how likely a street is to be used as a shortcut).
* **Input/Output:** Street centerlines  Heatmaps of predicted pedestrian and vehicular movement.

## Network Models {background-image="img/syntax_bog.png" background-opacity="0.3"}
_NM_
### *Example & Critique*

* **Example:** Redesigning a town center to increase footfall for local shops by improving topological connectivity.
* **Pros:** Very high correlation with real-world human movement; requires minimal data (just the map).
* **Cons:** Can be "blind" to land use. It might predict high movement on a street that is topologically central but has no reason for people to go there.
* **What it lacks:** **Systemic "Attractors."** It prioritizes the *shape* of the container over the *content* inside it.

---

## System Dynamics {background-image="img/sd_background.jpg" background-opacity="0.3"}
_SD_
### *The Anatomy*

* **Primary Dimensions:** **Temporal (High)** + **Systemic (High)**.
* **The Engine:** **Stocks and Flows.** Uses differential equations to model how quantities (e.g., housing stock) change over time based on rates of change (e.g., construction rate).
* **Input/Output:** Causal variables  Policy "flight simulators" showing 20-year trajectories.

## System Dynamics {background-image="img/sd_background.jpg" background-opacity="0.3"}

### *Example & Critique*

* **Example:** Modeling how a city-wide "Air Quality Zone" affects car ownership and public health over two decades.
* **Pros:** Unrivaled for identifying "Levers"—small changes that lead to massive systemic shifts.
* **Cons:** Non-spatial. It can tell you *how much* change will happen, but it cannot tell you *where* on the map it will happen.
* **What it lacks:** **Spatial Granularity.** It treats the whole city as one big "bucket" of variables.

---

## Agent-Based Models {background-image="img/abm.gif" background-opacity="0.5"}
_ABM & Celullar Automata (CA)_

### *The Anatomy*

* **Primary Dimensions:** **Spatial (High)** + **Systemic (High)** + **Temporal (High)**.
* **The Engine:** **Bottom-up Micro-simulation.** Individual "Agents" are given simple rules. The city’s patterns "Emerge" from thousands of these local interactions.
* **Input/Output:** Behavioral rules  Emergent patterns (e.g., segregation, traffic jams, or urban sprawl).


:::{.notes}
Visit https://softologyblog.wordpress.com/category/agent-based-modeling/

https://www.washingtonpost.com/graphics/2020/world/corona-simulator/
:::


## Agent-Based Models {background-image="img/abm.gif" background-opacity="0.5"}

### *Example & Critique*

* **Example:** Simulating how individual shoppers choose between a physical high street and online delivery during a pandemic.
* **Pros:** Captures "Emergence" and "Surprise"—the unintended side effects of human behavior.
* **Cons:** Extremely "noisy" and computationally expensive. Small errors in individual rules lead to massive distortions.
* **What it lacks:** **Predictive Certainty.** Because it's stochastic (random), it gives you a range of possibilities rather than a single "right" answer.

## {background-gradient="linear-gradient(to bottom, #2b2b2b, #FF8100)"}
One model strength is the other model's weakness

:::{.r-fit-text}

|          | **LUTI** | **NM** | **SD** | **ABM** | **CA** |
|--------|--------|--------|--------|--------|--------|
|**Spatial** | $\uparrow$ | ~  |        |~  |  $\uparrow$|
|**Relational** | ~ |   $\uparrow$  |        |        |      |
|**Systemic** |          |        | ~ | ~  |  $\uparrow$|
|**Temporal**  |      |        |   $\uparrow$ | $\uparrow$ | ~|

:::

:::{.notes}
- `Systemic` can be considered as CAUSAL - CAUSALITY
:::

# Workshop
::: {.r-fit-text}
Mapping your wicked problem
:::

## The "Wicked" Problem {background-image="img/wicked.png" background-opacity="0.3"}
* Urban challenges are not **puzzles** (with one right answer).
* They are **Wicked Problems**:
    * They are interconnected: solving one creates another.
    * They have no "stopping rule" or perfect solution.
    * They are better or worse, not right or wrong.

::: {.notes}
Refer to Rittel and Webber’s definition 1973. Explain that in a smart city context, we often try to "optimize" things. But a city isn't a machine to be optimized; it's a wicked problem to be managed. 
For their assignments: help them see that their chosen problem (e.g., housing or pollution) is "wicked" because it's tied to a dozen other factors.

#### Key Characteristics of Wicked Problems:
- No definitive formulation: The problem itself is hard to define.
- No "stopping rule": There's no clear point at which you know it's solved.
- Solutions aren't true/false: They are only "good" or "bad," not objectively correct.
- Irreversible consequences: Every attempt to solve it has lasting impacts, making "trials count".
- Interconnectedness: Solving one part often creates or reveals other problems.
:::

## Beyond the Mental Model

```{mermaid}
flowchart LR

subgraph G1["Conceptual"]
    A["Verbal<br/>description"]
    B["Causal-Loop<br/>Diagram"]
end

C["Model<br/>Formulation"]
D["Model<br/>Behaviour"]
E((("Policy<br/>Implications")))

A ==> B
B --> C
C --> D
D --> E
D -..-> B 
E -.-> B
E -.-> A

classDef yellow fill:#FFDC00,color:#2b2b2b,stroke-width:0px,text-align:center;
classDef gray fill:#999999,color:#ffffff,stroke-width:0px,text-align:center;
style G1 fill:#2b2b2b,color:#ffffff,stroke:#eee,stroke-width:2px

class A,B yellow
class C,D,E gray

```
## Setting the Boundary
A model is only as good as what you **leave out**.
* **Endogenous:** Factors the system controls.
* **Exogenous:** Factors outside our influence (the "Environment").

> *The Challenge:* 
> If you draw the boundary too small, you miss the "Wicked" side-effects.

::: {.notes}
- This is the most important part of the workshop. 
- Use the "Ecological Footprint" example from your references: London's boundary isn't the M25 motorway; its "resource boundary" is the whole world.
- Tell students: "Decide today what is *inside* your 'Brain' and what is just 'Noise' from the outside."
:::

## Feedback Loops {background-image="img/sd_water.png" background-opacity="0.5"}

Enable the discovery of :

- `emergence`
- `path dependency`
- `tiping points`
- `equilibrium` / `oscilation`


## Feedback Loops {background-color="#ffffff"}
[_loopy_](https://ncase.me/loopy)

<iframe width="800" height="600" frameborder="0" src="https://ncase.me/loopy/v1/?embed=1&data=[[[1,298,372,0.5,%22mo'%2520money%22,4],[3,632,374,0.5,%22price%22,4],[4,786,374,0.5,%22supply%22,5],[5,452,374,0.5,%22mo'%2520problems%22,5]],[[4,3,86,-1,0],[3,4,82,1,0],[5,1,88,1,0],[1,5,85,1,0]],[[376,529,%22POSITIVE%2520FEEDBACK%2520LOOP%250Aone%2520small%2520change%2520amplifies%250Aover%2520time%253A%2520vicious%2520cycle%22],[709,527,%22NEGATIVE%2520FEEDBACK%2520LOOP%250Aany%2520change%2520will%2520be%2520resisted%250Alater%2520in%2520time%253A%2520equilibrium%22],[296,293,%22click%2520here%250A%25E2%2586%2593%22],[630,294,%22and%2520here%250A%25E2%2586%2593%22]],5%5D"></iframe>


:::{.notes}

:::

## System Archetypes {background-color="#ffffff"}

::: {.panel-tabset .nonincremental}
### Balancing & Limits
* **Limits to Growth**: A tech-hub grows fast until housing prices drive out the talent, hitting a plateau.
* **Eroding Goals**: Reducing environmental targets because the current infrastructure "cannot handle" the cost of meeting them.
* **Growth and Underinvestment**: Demand for public transit grows, but the city delays purchasing new trains, leading to a collapse in service quality.


### Unintended Feedback
* **Fixes that Fail**: Widening a road to fix traffic leads to "induced demand," creating more traffic than before.
* **Shifting the Burden**: Using temporary "band-aid" repairs on aging water pipes instead of replacing the fundamental infrastructure.
* **Escalation**: Two neighboring districts compete to offer the lowest taxes to attract firms, eventually bankrupting their own public services.


### Resource & Power Loops
*  **Tragedy of the Commons**: Unregulated groundwater extraction by individual buildings leading to the sinking of the entire city's foundation.
* **Success to the Successful**: High-income neighborhoods receive the best schools, which increases property values and further concentrates educational funding there.
* **Accidental Adversaries**: A transit agency and a housing department both try to optimize their own KPIs, but end up blocking each other's long-term goals.

:::

::: {.notes}
* Learning to recognize "The Classics" of urban failure.
* Remind students that these are **diagnostic tools**.
* They don't describe a specific problem, but a **family of problems**.
* Use these tabs to ask the groups: "Which of these 'Classics' best describes the wicked problem you are mapping today?".
:::


## Excercise {background-color="#ffffff"}
For you excercise:
- Define the 'boundaries'
- Could your problem be better defined over a certain timeframe? which? 

- Extact the main components
- Create a causal loop (including Positive or Negative feedback loops)

#### We won't:
- define stocks
- consider flows rates
